<div class="container py-3">
  <div class="row g-3 mb-3">
    <div class="col-4">
      <div class="card text-center shadow-sm">
        <div class="card-body">
          <div class="fs-4 fw-bold text-primary">{{ rides }}</div>
          <div class="text-muted small">Rides</div>
        </div>
      </div>
    </div>
    <div class="col-4">
      <div class="card text-center shadow-sm">
        <div class="card-body">
          <div class="fs-4 fw-bold text-success">earned</div>
          <div class="text-muted small">Earned</div>
        </div>
      </div>
    </div>
    <div class="col-4">
      <div class="card text-center shadow-sm">
        <div class="card-body">
          <div class="fs-4 fw-bold text-violet">online</div>
          <div class="text-muted small">Online</div>
        </div>
      </div>
    </div>
  </div>

  <div class="card mb-3 shadow-sm">
    <div class="card-body">
      <div class="fw-bold mb-2">Current Bookings</div>
      <div *ngIf="currentBookings.length > 0; else noBooking">
        <div
          *ngFor="let booking of currentBookings"
          class="mb-3 border-bottom pb-2"
        >
          <div class="d-flex align-items-center mb-2">
            <div>
              <div class="fw-bold">{{ booking.customer.customerName }}</div>
              <div class="text-warning small">
                <div class="fw-bold">{{ booking.travelDate }}</div>
              </div>
            </div>
            <div class="ms-auto text-success fw-bold fs-5">
              {{ booking.vehicle.vehicleName }}
              <span class="text-muted fs-6 ms-1">
                {{ booking.pax }}
              </span>
            </div>
            <div class="ms-auto text-success fw-bold fs-5">
              {{ booking.amount }}
              <span class="text-muted fs-6 ms-1">
                {{ booking.traveltime }}
              </span>
            </div>
          </div>

          <div>
            <div>
              <span class="dot dot-green"></span>
              <span class="fw-bold">Pickup</span>
              <span class="text-muted ms-1">{{ booking.from }}</span>
            </div>
            <div>
              <span class="dot dot-red"></span>
              <span class="fw-bold">Drop-off</span>
              <span class="text-muted ms-1">{{ booking.to }}</span>
            </div>
          </div>

          <div class="mt-3 d-flex gap-2">
            <button class="btn btn-success flex-fill">
              <a
                [href]="'tel:' + booking.customer.contactNumber"
                class="text-white text-decoration-none"
              >
                <i class="bi bi-telephone"></i> Call
              </a>
            </button>
            <button class="btn btn-primary flex-fill">
              <a
                href="https://www.google.com/maps/dir/?api=1&origin=Panaji+Bus+Stand,+Goa&destination=Baga+Beach,+Goa"
                target="_blank"
                class="btn btn-primary flex-fill text-white text-decoration-none"
              >
                <i class="bi bi-geo-alt"></i> Navigate
              </a>
            </button>
          </div>
        </div>
      </div>

      <ng-template #noBooking>
        <div class="text-muted">No current booking</div>
      </ng-template>
    </div>
  </div>

  <div>
    <div class="fw-bold mb-2">Upcoming Rides</div>
    <div *ngFor="let ride of upcomingRides" class="card mb-2 shadow-sm">
      <div class="card-body d-flex align-items-center">
        <div class="flex-grow-1">
          <div class="fw-bold">{{ ride.customer.customerName }}</div>
          <div class="text-muted small">{{ ride.traveltime }}</div>
          <div class="text-muted small">
            <i class="bi bi-geo-alt"></i>
            {{ ride.from }} &rarr; {{ ride.to }}
          </div>
        </div>
        <div class="fw-bold text-success fs-5">${{ ride.amount }}</div>
      </div>
    </div>
    <div *ngIf="upcomingRides.length === 0" class="text-muted">
      No upcoming rides
    </div>
  </div>
</div>
