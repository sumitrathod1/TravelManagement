import{a as ge}from"./chunk-ZPXNQPPV.js";import{b as oe}from"./chunk-45ZUWZKY.js";import{a as ue}from"./chunk-YPOWKBJY.js";import{a as ne,b as re,c as ae,d as fe}from"./chunk-3SHNEIU6.js";import{b as me,c as le,e as pe,f as ce,g as de,h as se}from"./chunk-H6HNTYG3.js";import{a as A,c as P,d as U,e as H,h as J,i as K,j as Q,k as X,l as Y,m as Z,n as ee,o as te}from"./chunk-4Q7XPJD5.js";import{C as I,D as T,K as B}from"./chunk-OOG4BF3R.js";import{b as w,d as _,f as D,g as V,i as O,k as j,l as $,m as G,n as L,o as R,q as z,r as W,s as q}from"./chunk-SBERIC2F.js";import{a as ie}from"./chunk-ON6T2Y3X.js";import{$b as N,Ab as s,Bb as i,Cb as e,Db as v,Eb as C,Hb as b,Sb as E,Tb as n,Ub as f,Vb as M,Za as m,_a as g,_b as F,ia as k,sa as x,sb as p,ta as S,yb as c,zb as d}from"./chunk-QUTPPCZH.js";function ye(r,t){if(r&1&&(i(0,"mat-option",8),n(1),e()),r&2){let o=t.$implicit;p("value",o.AgentId),m(),f(o.name)}}function xe(r,t){if(r&1&&(i(0,"mat-option",8),n(1),e()),r&2){let o=t.$implicit;p("value",o),m(),f(o)}}function Se(r,t){if(r&1&&(i(0,"mat-option",8),n(1),e()),r&2){let o=t.$implicit;p("value",o),m(),f(o)}}function be(r,t){if(r&1&&(i(0,"mat-option",8),n(1),e()),r&2){let o=t.$implicit;p("value",o),m(),f(o)}}function _e(r,t){if(r&1&&(i(0,"mat-option",8),n(1),e()),r&2){let o=t.$implicit;p("value",o),m(),f(o)}}function he(r,t){if(r&1&&(i(0,"mat-option",8),n(1),e()),r&2){let o=t.$implicit;p("value",o.vehicleId),m(),f(o.vehicleName)}}function ke(r,t){if(r&1&&(i(0,"mat-option",8),n(1),e()),r&2){let o=t.$implicit;p("value",o.userId),m(),f(o.employeeName)}}function Ce(r,t){if(r&1&&(i(0,"mat-option",8),n(1),e()),r&2){let o=t.$implicit;p("value",o),m(),f(o)}}var ve=class r{constructor(t,o,l,u,y,h,a){this._fb=t;this._bookingServicea=o;this._employeeService=l;this._vechileService=u;this._agentService=y;this._dilog=h;this.data=a;this.bookingForm=t.group({bookingId:a?.bookingId??null,customerName:a?.customer?.customerName??"",customerNumber:a?.customer?.customerNumber??"",pax:a?.pax??"",from:Array.isArray(a?.from)?a.from[0]:a?.from??"",to:Array.isArray(a?.to)?a.to[0]:a?.to??"",travelDate:a?.travelDate??"",travelTime:a?.traveltime??"",driver:a?.userid??"",vehicle:a?.vehicleId??"",amount:a?.amount??"",bookingType:a?.bookingType??"",payment:a?.payment??"",ownerPay:a?.ownerPay??"",customerPay:a?.customerPay??"",agent:a?.travelAgentId??""}),a&&(this.isEditMode=!0,this.bookingForm.patchValue(a))}BookingType=["AirportPickup","AirportDrop","RailwayStation","FullDay","SightSeeing","Shuttle","Notspecified"];bookingForm;paytypes=["Admin","ExternalEmployee"];driverType=[];vehcilesType=[];agentTypes=[];times=[];isEditMode=!1;ngOnInit(){this.generateTimeSlots(),this.loadEmployees(),this.loadVehciles(),this.loadAgents()}loadAgents(){this._agentService.getAllAgents().subscribe({next:t=>{this.agentTypes=t},error:t=>{console.error("Error fetching agents:",t)}})}loadEmployees(){this._employeeService.getAllEmployees().subscribe({next:t=>{this.driverType=t},error:t=>{console.error("Error fetching employees:",t)}})}loadVehciles(){this._vechileService.getAllVehicles().subscribe({next:t=>{this.vehcilesType=t},error:t=>{console.error("Error fetching vehicles:",t)}})}generateTimeSlots(){let t=[];for(let o=0;o<24;o++)for(let l=0;l<60;l+=30){let u=o<12?"AM":"PM",y=o%12===0?12:o%12,h=`${this.pad(y)}:${this.pad(l)} ${u}`;t.push(h)}this.times=t}pad(t){return t<10?"0"+t:t.toString()}email=new O("",[_.required,_.email]);states=["Airport","Railway Station","Mopa Airport","Vasco","Calangute","Baga","Candolim","Saligav","Anjuna","Vagator","Arpora","Nerul","Panjim","Mapusa"];errorMessage="";onFormSubmit(){this.bookingForm.valid&&(console.log(this.bookingForm.value),this._bookingServicea.newBooking(this.bookingForm.value).subscribe({next:t=>{alert("Booking is added successfully"),this._dilog.closeAll()},error(t){console.error(t)}}))}clossBooking(){this._dilog.closeAll()}static \u0275fac=function(o){return new(o||r)(g(z),g(ie),g(oe),g(ue),g(ge),g(me),g(le))};static \u0275cmp=k({type:r,selectors:[["app-booking-form"]],standalone:!0,features:[F([T()]),N],decls:127,vars:4,consts:[["picker",""],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],["mat-dialog-content",""],[1,"row"],[1,"col-sm-6"],["appearance","outline",2,"flex","1"],["formControlName","agent"],[3,"value"],["matInput","","type","text","placeholder","Name","formControlName","customerName"],["appearance","outline",1,"col-ms-6",2,"flex","1"],["matInput","","type","text","formControlName","customerNumber"],["matInput","","type","number","placeholder","No Pax","min","1","formControlName","Pax"],["formControlName","payment"],["matInput","","formControlName","travelDate",3,"matDatepicker"],["matSuffix","",3,"for"],["formControlName","travelTime"],["formControlName","from"],["formControlName","to"],["formControlName","vehcile"],["formControlName","driver"],["matInput","","type","number","formControlName","amount"],["formControlName","bookingType"],["matInput","","type","number","formControlName","customerPay"],["matInput","","type","number","formControlName","ownerPay"],["mat-dialog-actions","",1,"action",2,"display","flex","justify-content","flex-end","gap","16px"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","type","submit"]],template:function(o,l){if(o&1){let u=C();i(0,"div",1),n(1,"Add Booking"),e(),i(2,"form",2),b("ngSubmit",function(){return x(u),S(l.onFormSubmit())}),i(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-form-field",6)(7,"mat-label"),n(8,"Agents"),e(),i(9,"mat-select",7)(10,"mat-option"),n(11,"None"),e(),d(12,ye,2,2,"mat-option",8,c),e()()()(),i(14,"div",4)(15,"div",5)(16,"mat-form-field",6)(17,"mat-label"),n(18,"Customer Name"),e(),v(19,"input",9),e()(),i(20,"div",5)(21,"mat-form-field",10)(22,"mat-label"),n(23,"Customer Number"),e(),v(24,"input",11),e()()(),i(25,"div",4)(26,"div",5)(27,"mat-form-field",6)(28,"mat-label"),n(29,"No Pax"),e(),v(30,"input",12),e()(),i(31,"div",5)(32,"mat-form-field",10)(33,"mat-label"),n(34,"payment"),e(),i(35,"mat-select",13)(36,"mat-option"),n(37,"None"),e(),d(38,xe,2,2,"mat-option",8,c),e()()()(),i(40,"div",4)(41,"div",5)(42,"mat-form-field",6)(43,"mat-label"),n(44,"Select a date"),e(),v(45,"input",14)(46,"mat-datepicker-toggle",15)(47,"mat-datepicker",null,0),e()(),i(49,"div",5)(50,"mat-form-field",6)(51,"mat-label"),n(52,"Time"),e(),i(53,"mat-select",16)(54,"mat-option"),n(55,"None"),e(),d(56,Se,2,2,"mat-option",8,c),e()()()(),i(58,"div",4)(59,"div",5)(60,"mat-form-field",6)(61,"mat-label"),n(62,"From"),e(),i(63,"mat-select",17)(64,"mat-option"),n(65,"None"),e(),d(66,be,2,2,"mat-option",8,c),e()()(),i(68,"div",5)(69,"mat-form-field",6)(70,"mat-label"),n(71,"TO"),e(),i(72,"mat-select",18)(73,"mat-option"),n(74,"None"),e(),d(75,_e,2,2,"mat-option",8,c),e()()()(),i(77,"div",4)(78,"div",5)(79,"mat-form-field",6)(80,"mat-label"),n(81,"Vehicle"),e(),i(82,"mat-select",19)(83,"mat-option"),n(84,"None"),e(),d(85,he,2,2,"mat-option",8,c),e()()(),i(87,"div",5)(88,"mat-form-field",6)(89,"mat-label"),n(90,"Driver"),e(),i(91,"mat-select",20)(92,"mat-option"),n(93,"None"),e(),d(94,ke,2,2,"mat-option",8,c),e()()()(),i(96,"div",4)(97,"div",5)(98,"mat-form-field",6)(99,"mat-label"),n(100,"Amount"),e(),v(101,"input",21),e()(),i(102,"div",5)(103,"mat-form-field",6)(104,"mat-label"),n(105,"Booking Type"),e(),i(106,"mat-select",22)(107,"mat-option"),n(108,"None"),e(),d(109,Ce,2,2,"mat-option",8,c),e()()()(),i(111,"div",4)(112,"div",5)(113,"mat-form-field",6)(114,"mat-label"),n(115,"CustomerWillPay"),e(),v(116,"input",23),e()(),i(117,"div",5)(118,"mat-form-field",6)(119,"mat-label"),n(120,"OwnerWillPay"),e(),v(121,"input",24),e()()()(),i(122,"div",25)(123,"button",26),b("click",function(){return x(u),S(l.clossBooking())}),n(124,"Cancel"),e(),i(125,"button",27),n(126),e()()()}if(o&2){let u,y=E(48);m(2),p("formGroup",l.bookingForm),m(10),s(l.agentTypes),m(26),s(l.paytypes),m(7),p("matDatepicker",y),m(),p("for",y),m(10),s(l.times),m(10),s(l.states),m(9),s(l.states),m(10),s(l.vehcilesType),m(9),s(l.driverType),m(15),s(l.BookingType),m(17),M(" ",(u=l.bookingForm.get("id"))!=null&&u.value?"Update":"Submit"," ")}},dependencies:[fe,W,j,w,$,D,V,R,I,K,J,U,H,te,Y,Z,ee,se,pe,de,ce,X,Q,re,ne,B,q,G,L,P,A,ae],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;padding:0;width:100%;min-width:300px;max-width:380px;margin:auto;box-shadow:0 9px 36px}.dialog-header[_ngcontent-%COMP%]{font-size:1.45rem;font-weight:700;padding:22px 18px 10px;text-align:left;letter-spacing:.02em}.form-row[_ngcontent-%COMP%]{margin:0 18px 18px;display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-btn[_ngcontent-%COMP%]{flex:1;font-weight:700;cursor:pointer}.submit-btn[_ngcontent-%COMP%]:hover{color:#fff}@media (max-width: 600px){[_nghost-%COMP%]{min-width:unset;max-width:98vw;border-radius:12px;padding:0}.form-row[_ngcontent-%COMP%], .action[_ngcontent-%COMP%]{margin-left:6px;margin-right:6px}.dialog-header[_ngcontent-%COMP%]{padding:16px 6px 8px 13px;font-size:1.12rem}}"]})};export{ve as a};
