import{b as D}from"./chunk-E3UTRTGG.js";import"./chunk-WEZ5LNJ3.js";import{$b as _,Bb as e,Cb as t,Db as s,Hc as y,Ic as C,Jb as b,Oc as I,Sb as S,Tb as n,Ub as d,Vb as c,Wa as x,Wb as E,Za as o,_a as u,fc as h,ia as f,ob as v,s as g,sb as m}from"./chunk-QUTPPCZH.js";function k(r,a){if(r&1&&(e(0,"div",16)(1,"div",17)(2,"div")(3,"div",18),n(4),t(),e(5,"div",19)(6,"div",18),n(7),t()()(),e(8,"div",20),n(9),e(10,"span",21),n(11),t()(),e(12,"div",20),n(13),e(14,"span",21),n(15),t()()(),e(16,"div")(17,"div"),s(18,"span",22),e(19,"span",18),n(20,"Pickup"),t(),e(21,"span",23),n(22),t()(),e(23,"div"),s(24,"span",24),e(25,"span",18),n(26,"Drop-off"),t(),e(27,"span",23),n(28),t()()(),e(29,"div",25)(30,"button",26)(31,"a",27),s(32,"i",28),n(33," Call "),t()(),e(34,"button",29)(35,"a",30),s(36,"i",31),n(37," Navigate "),t()()()()),r&2){let i=a.$implicit;o(4),d(i.customer.customerName),o(3),d(i.travelDate),o(2),c(" ",i.vehicle.vehicleName," "),o(2),c(" ",i.pax," "),o(2),c(" ",i.amount," "),o(2),c(" ",i.traveltime," "),o(7),d(i.from),o(6),d(i.to),o(3),m("href","tel:"+i.customer.contactNumber,x)}}function O(r,a){if(r&1&&(e(0,"div"),v(1,k,38,9,"div",15),t()),r&2){let i=b();o(),m("ngForOf",i.currentBookings)}}function B(r,a){r&1&&(e(0,"div",32),n(1,"No current booking"),t())}function M(r,a){if(r&1&&(e(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",18),n(4),t(),e(5,"div",7),n(6),t(),e(7,"div",7),s(8,"i",31),n(9),t()(),e(10,"div",36),n(11),t()()()),r&2){let i=a.$implicit;o(4),d(i.customer.customerName),o(2),d(i.traveltime),o(3),E(" ",i.from," \u2192 ",i.to," "),o(2),c("$",i.amount,"")}}function P(r,a){r&1&&(e(0,"div",32),n(1," No upcoming rides "),t())}var w=class r{constructor(a){this._employeService=a}currentBookings=[];upcomingRides=[];rides=0;ngOnInit(){this.loadDriverData()}loadDriverData(){this._employeService.getEmployeeBookings().pipe(g(a=>{let i=a??[],l=new Date().toISOString().slice(0,10);return this.currentBookings=i.filter(p=>p.travelDate===l),this.upcomingRides=i.filter(p=>p.travelDate>l),console.log("Current Bookings:",this.currentBookings),console.log("Upcoming Rides:",this.upcomingRides),this.rides=i.length,i})).subscribe({next:a=>{console.log("Bookings loaded:",a)},error:a=>{console.error("Error loading bookings:",a),this.currentBookings=[],this.upcomingRides=[]}})}static \u0275fac=function(i){return new(i||r)(u(D))};static \u0275cmp=f({type:r,selectors:[["app-driver"]],standalone:!0,features:[_],decls:35,vars:5,consts:[["noBooking",""],[1,"container","py-3"],[1,"row","g-3","mb-3"],[1,"col-4"],[1,"card","text-center","shadow-sm"],[1,"card-body"],[1,"fs-4","fw-bold","text-primary"],[1,"text-muted","small"],[1,"fs-4","fw-bold","text-success"],[1,"fs-4","fw-bold","text-violet"],[1,"card","mb-3","shadow-sm"],[1,"fw-bold","mb-2"],[4,"ngIf","ngIfElse"],["class","card mb-2 shadow-sm",4,"ngFor","ngForOf"],["class","text-muted",4,"ngIf"],["class","mb-3 border-bottom pb-2",4,"ngFor","ngForOf"],[1,"mb-3","border-bottom","pb-2"],[1,"d-flex","align-items-center","mb-2"],[1,"fw-bold"],[1,"text-warning","small"],[1,"ms-auto","text-success","fw-bold","fs-5"],[1,"text-muted","fs-6","ms-1"],[1,"dot","dot-green"],[1,"text-muted","ms-1"],[1,"dot","dot-red"],[1,"mt-3","d-flex","gap-2"],[1,"btn","btn-success","flex-fill"],[1,"text-white","text-decoration-none",3,"href"],[1,"bi","bi-telephone"],[1,"btn","btn-primary","flex-fill"],["href","https://www.google.com/maps/dir/?api=1&origin=Panaji+Bus+Stand,+Goa&destination=Baga+Beach,+Goa","target","_blank",1,"btn","btn-primary","flex-fill","text-white","text-decoration-none"],[1,"bi","bi-geo-alt"],[1,"text-muted"],[1,"card","mb-2","shadow-sm"],[1,"card-body","d-flex","align-items-center"],[1,"flex-grow-1"],[1,"fw-bold","text-success","fs-5"]],template:function(i,l){if(i&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),n(6),t(),e(7,"div",7),n(8,"Rides"),t()()()(),e(9,"div",3)(10,"div",4)(11,"div",5)(12,"div",8),n(13,"earned"),t(),e(14,"div",7),n(15,"Earned"),t()()()(),e(16,"div",3)(17,"div",4)(18,"div",5)(19,"div",9),n(20,"online"),t(),e(21,"div",7),n(22,"Online"),t()()()()(),e(23,"div",10)(24,"div",5)(25,"div",11),n(26,"Current Bookings"),t(),v(27,O,2,1,"div",12)(28,B,2,0,"ng-template",null,0,h),t()(),e(30,"div")(31,"div",11),n(32,"Upcoming Rides"),t(),v(33,M,12,5,"div",13)(34,P,2,0,"div",14),t()()),i&2){let p=S(29);o(6),d(l.rides),o(21),m("ngIf",l.currentBookings.length>0)("ngIfElse",p),o(6),m("ngForOf",l.upcomingRides),o(),m("ngIf",l.upcomingRides.length===0)}},dependencies:[I,y,C],styles:[".text-violet[_ngcontent-%COMP%]{color:#6366f1}.dot[_ngcontent-%COMP%]{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:4px}.dot-green[_ngcontent-%COMP%]{background:#22c55e}.dot-red[_ngcontent-%COMP%]{background:#ef4444}.card[_ngcontent-%COMP%]{border-radius:12px}.card-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.fs-4[_ngcontent-%COMP%]{font-size:1.5rem}.fs-5[_ngcontent-%COMP%]{font-size:1.25rem}.fs-6[_ngcontent-%COMP%]{font-size:1rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}"]})};export{w as DriverComponent};
