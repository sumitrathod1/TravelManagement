import{a as de,b as ue}from"./chunk-QTEKGX63.js";import{a as D}from"./chunk-YPOWKBJY.js";import{b as ne,c as oe,d as se}from"./chunk-3SHNEIU6.js";import{c as re,d as C,e as ae,f as ce,g as le,h as me}from"./chunk-H6HNTYG3.js";import{a as P,c as q,d as H,e as J,h as K,i as Q,j as W,k as X,l as Z,m as ee,n as te,o as ie}from"./chunk-4Q7XPJD5.js";import{C as T}from"./chunk-OOG4BF3R.js";import{b as R,f as A,g as G,k as L,m as B,n as $,q as U,r as z,s as Y}from"./chunk-SBERIC2F.js";import"./chunk-WEZ5LNJ3.js";import{$b as _,Bb as n,Cb as i,Db as d,Eb as b,Hb as f,Hc as j,Jb as x,Oc as N,Sb as O,Tb as o,Ub as g,V as S,Vb as E,Za as c,_a as s,ea as F,g as w,ia as h,ob as V,qa as k,sa as u,sb as v,ta as p,za as I}from"./chunk-QUTPPCZH.js";function y(a){a||(k(y),a=F(I));let t=new w(e=>a.onDestroy(e.next.bind(e)));return e=>e.pipe(S(t))}var M=class a{constructor(t,e,l,r){this._fb=t;this._dialog=e;this._vehicleService=l;this.data=r;this.documentForm=t.group({vehicleID:r?.vehicleID||"",title:"",documentType:"",expiryDate:"",description:""}),this.documentForm.valueChanges.pipe(y()).subscribe(m=>{console.log("Document form value changed:",m)})}documentForm;onDocumentFormSubmit(){this.documentForm.valid&&this._vehicleService.addDocument(this.documentForm.value).subscribe({next:t=>{this._dialog.closeAll(),console.log("Document Form Submitted:",t)},error:t=>{console.error("Error submitting document form:",t)}})}onCloseDocument(){this._dialog.closeAll()}static \u0275fac=function(e){return new(e||a)(s(U),s(C),s(D),s(re))};static \u0275cmp=h({type:a,selectors:[["app-document-form"]],standalone:!0,features:[_],decls:29,vars:3,consts:[["picker",""],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],["mat-dialog-content",""],[1,"row"],[1,"col-sm-6"],["appearance","outline"],["matInput","","type","text","placeholder","Title","formControlName","title"],["matInput","","formControlName","description"],["appearance","outline",1,"col-sm-6"],["matInput","","formControlName","expiryDate",3,"matDatepicker"],["matSuffix","",3,"for"],["mat-dialog-actions","",1,"action"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,l){if(e&1){let r=b();n(0,"div",1),o(1,"Vehicle Document"),i(),n(2,"form",2),f("ngSubmit",function(){return u(r),p(l.onDocumentFormSubmit())}),n(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-form-field",6)(7,"mat-label"),o(8,"Title"),i(),d(9,"input",7),i()(),n(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),o(13,"Description"),i(),d(14,"textarea",8),i()()(),n(15,"div",4)(16,"div",9)(17,"mat-form-field")(18,"mat-label"),o(19,"Expiry Date"),i(),d(20,"input",10)(21,"mat-datepicker-toggle",11)(22,"mat-datepicker",null,0),i()()()(),n(24,"div",12)(25,"button",13),f("click",function(){return u(r),p(l.onCloseDocument())}),o(26,"Cancel"),i(),n(27,"button",14),o(28,"Submit"),i()()()}if(e&2){let r=O(23);c(2),v("formGroup",l.documentForm),c(18),v("matDatepicker",r),c(),v("for",r)}},dependencies:[se,z,L,R,A,G,T,Q,K,H,J,ie,Z,ee,te,me,ae,le,ce,X,W,ne,Y,B,$,q,P,oe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;padding:0;width:100%;min-width:300px;max-width:380px;margin:auto;box-shadow:0 9px 36px}.dialog-header[_ngcontent-%COMP%]{font-size:1.45rem;font-weight:700;padding:22px 18px 10px;text-align:left;letter-spacing:.02em}.form-row[_ngcontent-%COMP%]{margin:0 18px 18px;display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], .mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-btn[_ngcontent-%COMP%]{flex:1;font-weight:700;cursor:pointer}.submit-btn[_ngcontent-%COMP%]:hover{color:#fff}@media (max-width: 600px){[_nghost-%COMP%]{min-width:unset;max-width:98vw;border-radius:12px;padding:0}.form-row[_ngcontent-%COMP%], .action[_ngcontent-%COMP%]{margin-left:6px;margin-right:6px}.dialog-header[_ngcontent-%COMP%]{padding:16px 6px 8px 13px;font-size:1.12rem}}"]})};function be(a,t){if(a&1){let e=b();n(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),o(5),i(),n(6,"div",8),o(7),i()(),n(8,"div",6)(9,"div",7),o(10,"Year"),i(),n(11,"div",8),o(12),i()(),n(13,"div",6)(14,"div",7),o(15,"Seats"),i(),n(16,"div",8),o(17),i()(),n(18,"div",6)(19,"div",7),o(20,"Number"),i(),n(21,"div",8),o(22),i()(),n(23,"div",9)(24,"div",10)(25,"button",11),f("click",function(){let r=u(e).$implicit,m=x();return p(m.maintenance(r.vehicleId))}),d(26,"i",12),i()(),n(27,"div",10)(28,"button",13),f("click",function(){let r=u(e).$implicit,m=x();return p(m.expence(r.vehicleId))}),d(29,"i",14),i()(),n(30,"div",10)(31,"button",15),f("click",function(){let r=u(e).$implicit,m=x();return p(m.documentShedule(r.vehicleId))}),d(32,"i",16),i()()()()()()}if(a&2){let e=t.$implicit;c(5),E(" ",e.vehicleName," "),c(2),g(e.vehicleType),c(5),g(e.registrationDate),c(5),g(e.seatingcapacity),c(5),g(e.vehicleNumber)}}var pe=class a{constructor(t,e){this._vechicleService=t;this._dialog=e}vehicleList=[];ngOnInit(){this.loadVehicles()}loadVehicles(){this._vechicleService.getAllVehicles().subscribe({next:t=>{this.vehicleList=t},error:t=>{console.error("Error fetching vehicle data:",t)}})}maintenance(t){this._dialog.open(ue,{data:{vehicleID:t}})}expence(t){this._dialog.open(de,{data:{vehicleID:t}})}documentShedule(t){this._dialog.open(M,{data:{vehicleID:t}})}static \u0275fac=function(e){return new(e||a)(s(D),s(C))};static \u0275cmp=h({type:a,selectors:[["app-vehicle-card"]],standalone:!0,features:[_],decls:3,vars:1,consts:[[1,"container"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card",2,"width","100%"],[1,"card-body"],[1,"row","mb-2"],[1,"col-6","text-start","fw-bold"],[1,"col-6","text-end"],[1,"row","mt-3"],[1,"col-4"],[1,"btn","btn-success","w-100",3,"click"],[1,"bi","bi-wrench-adjustable"],[1,"btn","btn-danger","w-100",3,"click"],[1,"bi","bi-cash-stack"],[1,"btn","btn-primary","w-100",3,"click"],[1,"bi","bi-receipt-cutoff"]],template:function(e,l){e&1&&(n(0,"div",0)(1,"div",1),V(2,be,33,5,"div",2),i()()),e&2&&(c(2),v("ngForOf",l.vehicleList))},dependencies:[N,j],styles:[".card[_ngcontent-%COMP%]{border-radius:10px;padding:10px;margin-bottom:12px;background-color:#f9f9f9;box-shadow:0 0 4px #0000000d}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}"]})};export{pe as VehicleCardComponent};
