import{a as I}from"./chunk-WEZ5LNJ3.js";import{$b as w,Bb as o,Cb as i,Eb as k,Hb as f,Hc as O,Jb as g,Lc as S,Oc as j,Tb as n,Ub as E,Vb as c,Za as r,_ as b,_a as v,bc as M,da as _,dc as P,ia as C,ob as y,sa as p,sb as h,ta as d,ub as x}from"./chunk-QUTPPCZH.js";var u=class a{constructor(e){this._http=e}baseUrl="http://ezygoa.icu/api/Inquiry/";getAllAgents(){return this._http.get(`${this.baseUrl}GetAllEnqueries`)}static \u0275fac=function(t){return new(t||a)(_(I))};static \u0275prov=b({token:a,factory:a.\u0275fac,providedIn:"root"})};function B(a,e){if(a&1){let t=k();o(0,"div",1)(1,"div",2)(2,"div",3),n(3),i(),o(4,"div",4)(5,"button",5),f("click",function(){let l=p(t).$implicit,s=g();return d(s.toggleConfirm(l))}),n(6," \u2713 "),i(),o(7,"button",6),f("click",function(){let l=p(t).$implicit,s=g();return d(s.toggleReject(l))}),n(8," \u2715 "),i(),o(9,"button",7),f("click",function(){let l=p(t).$implicit,s=g();return d(s.callCustomer(l.customerNumber))}),o(10,"span",8),n(11,"\u260E"),i()()()(),o(12,"div",9)(13,"span")(14,"b"),n(15,"Number:"),i(),n(16),i(),o(17,"span")(18,"b"),n(19,"From:"),i(),n(20),i(),o(21,"span")(22,"b"),n(23,"To:"),i(),n(24),i(),o(25,"span")(26,"b"),n(27,"Date:"),i(),n(28),M(29,"date"),i(),o(30,"span")(31,"b"),n(32,"Pax:"),i(),n(33),i(),o(34,"span")(35,"b"),n(36,"Vehicle:"),i(),n(37),i()()()}if(a&2){let t=e.$implicit;r(3),E(t.customerName),r(2),x("active",t.isConfirmed),r(2),x("active",t.isRejected),r(9),c(" ",t.customerNumber||"N/A",""),r(4),c(" ",t.from||"N/A",""),r(4),c(" ",t.to||"N/A",""),r(4),c(" ",P(29,11,t.travelDate,"dd MMM, yyyy")," "),r(5),c(" ",t.pax,""),r(4),c(" ",t.vehicleName||"N/A","")}}var q=class a{constructor(e){this._emailService=e}inquiries=[];ngOnInit(){this.loadInquiries()}loadInquiries(){this._emailService.getAllAgents().subscribe({next:e=>{console.log(e),this.inquiries=e},error:e=>{console.error("Error fetching inquiries:",e)}})}toggleConfirm(e){e.isConfirmed=!e.isConfirmed,e.isConfirmed&&(e.isRejected=!1)}toggleReject(e){e.isRejected=!e.isRejected,e.isRejected&&(e.isConfirmed=!1)}callCustomer(e){window.open(`tel:${e}`,"_self")}static \u0275fac=function(t){return new(t||a)(v(u))};static \u0275cmp=C({type:a,selectors:[["app-email-booking"]],standalone:!0,features:[w],decls:1,vars:1,consts:[["class","inquiry-card",4,"ngFor","ngForOf"],[1,"inquiry-card"],[1,"inquiry-header"],[1,"customer-name"],[1,"toggle-buttons"],["aria-label","Confirm",1,"btn","confirm",3,"click"],["aria-label","Reject",1,"btn","reject",3,"click"],["aria-label","Call Customer",1,"btn","call",3,"click"],[1,"phone-icon"],[1,"inquiry-details"]],template:function(t,m){t&1&&y(0,B,38,14,"div",0),t&2&&h("ngForOf",m.inquiries)},dependencies:[j,O,S],styles:[".inquiry-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 2px 10px #ffe06644;padding:10px 14px;margin:8px 0;mmax-width:100%;min-width:100%}.inquiry-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.customer-name[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:#674e00;overflow:hidden;text-overflow:ellipsis}.toggle-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{border:none;border-radius:50%;padding:6px 8px;min-width:27px;width:27px;height:27px;font-size:1rem;font-weight:700;transition:background .2s,color .2s;box-shadow:0 1px 4px #f7e07622;cursor:pointer;display:flex;align-items:center;justify-content:center}.btn.confirm[_ngcontent-%COMP%]{background:#fff7cc;color:#8a7200;border:1.5px solid #ffe066}.btn.confirm.active[_ngcontent-%COMP%]{background:#ffe066;color:#fff;border-color:#c2a600}.btn.reject[_ngcontent-%COMP%]{background:#fce9e1;color:#bc3a1a;border:1.5px solid #ff9b56}.btn.reject.active[_ngcontent-%COMP%]{background:#ff604c;color:#fff;border-color:#b24c23}.btn.call[_ngcontent-%COMP%]{background:#edf6ea;color:#249644;border:1.5px solid #98d885;font-size:1.07rem}.phone-icon[_ngcontent-%COMP%]{font-size:1em;display:inline-block}.inquiry-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:9px 22px;margin-top:2px;color:#746f5b}.inquiry-details[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#3e2f00;font-weight:600}.inquiry-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:88px}"]})};export{q as EmailBookingComponent};
