import{a as O,b as w}from"./chunk-E3UTRTGG.js";import{b as h,d as c,f as C,g as v,k as _,m as x,n as M,p as P,q as y,s as S}from"./chunk-SBERIC2F.js";import{f as b}from"./chunk-GGO3Y67A.js";import"./chunk-WEZ5LNJ3.js";import{$b as u,Bb as e,Cb as t,Db as r,Hb as p,Tb as i,Za as d,_a as m,ia as s,sb as f}from"./chunk-QUTPPCZH.js";var k=class g{constructor(o,n,a){this._employeService=o;this.fb=n;this.router=a;this.loginForm=this.fb.group({username:["",c.required],password:["",c.required]})}loginForm;foruserLogin(){}onSubmit(){this.loginForm.valid&&(localStorage.setItem("name",this.loginForm.value.username),this._employeService.loginUser(this.loginForm.value).subscribe({next:o=>{this.loginForm.reset(),this._employeService.storeTokan(o.token);let l=new O().decodeToken(o.token)["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"];l==="Admin"?this.router.navigate(["/home"]):l==="Employee"?this.router.navigate(["/drver"]):console.warn("Unknown role:",l),console.log("Login successful:",o)},error:o=>{console.error("Login failed:",o)}}))}static \u0275fac=function(n){return new(n||g)(m(w),m(y),m(b))};static \u0275cmp=s({type:g,selectors:[["app-login"]],standalone:!0,features:[u],decls:21,vars:1,consts:[[1,"login-page"],[1,"login-container"],[1,"logo"],[1,"bi","bi-rocket-takeoff-fill"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"bi","bi-person"],["type","text","formControlName","username","placeholder","User ID","required",""],[1,"bi","bi-lock"],["type","password","formControlName","password","placeholder","Password","required",""],[1,"forgot-password"],["type","submit",1,"login-btn"],[1,"bi","bi-box-arrow-in-right"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),r(3,"i",3),t(),e(4,"h2"),i(5,"Welcome Back"),t(),e(6,"p"),i(7,"Sign in to continue your journey"),t(),e(8,"form",4),p("ngSubmit",function(){return a.onSubmit()}),e(9,"div",5),r(10,"i",6)(11,"input",7),t(),e(12,"div",5),r(13,"i",8)(14,"input",9),t(),e(15,"div",10)(16,"a"),i(17,"Forgot Password?"),t()(),e(18,"button",11),r(19,"i",12),i(20," Sign In "),t()()()()),n&2&&(d(8),f("formGroup",a.loginForm))},dependencies:[S,_,h,C,v,P,x,M],styles:[".login-page[_ngcontent-%COMP%]{height:85vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(to bottom right,#6366f1,#ec4899)}.login-container[_ngcontent-%COMP%]{background:#ffffff1a;padding:4rem;border-radius:2rem;max-width:400px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;text-align:center;box-shadow:0 0 20px #0000001a}.login-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:linear-gradient(to right,#ec4899,#f97316);padding:1rem;border-radius:50%;margin:0 auto 1rem;width:60px;height:60px;display:flex;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:.5rem}.login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:1.5rem;color:#f0f0f0}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:#ccc}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.5rem;border-radius:8px;border:none;background:#ffffff26;color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ccc}.forgot-password[_ngcontent-%COMP%]{text-align:right;margin-bottom:1rem}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.85rem;color:#f1f1f1;text-decoration:underline}.login-btn[_ngcontent-%COMP%]{width:100%;padding:.8rem;border:none;border-radius:8px;background:linear-gradient(to right,#ec4899,#f97316);color:#fff;font-weight:700;cursor:pointer;margin-bottom:1rem}.social-login[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin:1rem 0}.social-login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.6rem;border:none;border-radius:8px;background:#ffffff26;color:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem;cursor:pointer}.signup-link[_ngcontent-%COMP%]{font-size:.9rem}.signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-decoration:underline}"]})};export{k as LoginComponent};
