import{a as p}from"./chunk-HK64QVQE.js";import"./chunk-ZPXNQPPV.js";import"./chunk-45ZUWZKY.js";import"./chunk-YPOWKBJY.js";import"./chunk-3SHNEIU6.js";import{d as E}from"./chunk-H6HNTYG3.js";import"./chunk-4Q7XPJD5.js";import"./chunk-OOG4BF3R.js";import"./chunk-SBERIC2F.js";import{a as S}from"./chunk-ON6T2Y3X.js";import{g as h,j as y}from"./chunk-GGO3Y67A.js";import"./chunk-WEZ5LNJ3.js";import{$b as _,Bb as t,Cb as e,Db as d,Eb as k,Gc as M,Hb as v,Hc as O,Jb as C,Oc as P,Tb as n,Ub as r,Vb as c,Za as i,_a as g,ia as b,ob as f,sa as x,sb as m,ta as u}from"./chunk-QUTPPCZH.js";function T(l,a){if(l&1){let o=k();t(0,"div",14),d(1,"div",15),t(2,"div",16)(3,"div",17),n(4),t(5,"span",18),n(6),e()(),t(7,"div",19),n(8),e(),d(9,"div",17),t(10,"div",20)(11,"div",21)(12,"small"),n(13),e(),t(14,"div"),n(15),e()(),t(16,"div",21)(17,"small"),n(18),e(),t(19,"div"),n(20),e()()(),t(21,"div",22)(22,"div"),n(23),e(),t(24,"div"),n(25),e()()(),t(26,"div",23)(27,"span",24),n(28),e(),t(29,"div",25),n(30),e(),t(31,"div"),n(32),e(),t(33,"div",26)(34,"button",27),v("click",function(){let B=x(o).$implicit,I=C();return u(I.editBooking(B))}),n(35," Edit "),e()()()()}if(l&2){let o=a.$implicit;i(4),c(" ",o.customer.customerName," "),i(2),c(" Pax ",o.pax," "),i(2),r(o.customer.customerNumber),i(5),r(o.from),i(2),r(o.travelDate),i(3),r(o.to),i(2),r(o.traveltime),i(3),r(o.bookingType),i(2),c("Driver ",o.user.employeeName,""),i(2),m("ngClass",o.status.toLowerCase()),i(),r(o.status),i(2),r(o.amount),i(2),r(o.vehicle.vehicleName)}}var w=class l{constructor(a,o){this._dialog=a;this._bookingservice=o}bookings=[];ngOnInit(){this.loadAllbookings(),this._bookingservice.bookingUpdated$.subscribe(()=>{this.loadAllbookings()})}loadAllbookings(){this._bookingservice.loadBookings().subscribe({next:a=>{this.bookings=a.bookings,this._bookingservice.updateBookingCount(this.bookings.length),console.log("Bookings loaded:",this.bookings)},error:a=>{console.error("Error loading bookings:",a)}})}onBookingClick(a){console.log("Booking clicked:",a),this._dialog.open(p,{data:a})}editBooking(a){console.log("Edit booking:",a),this._dialog.open(p,{data:a})}static \u0275fac=function(o){return new(o||l)(g(E),g(S))};static \u0275cmp=b({type:l,selectors:[["app-booking-table"]],standalone:!0,features:[_],decls:29,vars:2,consts:[[1,"container","py-3"],[1,"mb-3"],["type","text","placeholder","Search bookings...",1,"form-control","mb-2"],["role","group",1,"btn-group","w-100"],[1,"btn","btn-outline-secondary"],[1,"btn","btn-outline-success"],[1,"btn","btn-outline-warning"],[1,"btn","btn-outline-danger"],[1,"d-flex","justify-content-between","mb-3"],[1,"summary-card","bg-primary","text-white","text-center"],[1,"fw-bold"],["routerLink","/email-booking",1,"summary-card","bg-success","text-white","text-center"],[1,"summary-card","bg-warning","text-dark","text-center"],["class","booking-card",4,"ngFor","ngForOf"],[1,"booking-card"],[1,"booking-left"],[1,"booking-middle"],[1,"title"],[1,"pax"],[1,"location"],[1,"dates"],[1,"date-section"],[1,"duration"],[1,"booking-right"],[1,"status",3,"ngClass"],[1,"price"],[1,"mt-2"],[1,"btn","btn-primary",3,"click"]],template:function(o,s){o&1&&(t(0,"div",0)(1,"div",1),d(2,"input",2),t(3,"div",3)(4,"button",4),n(5,"All"),e(),t(6,"button",5),n(7,"Confirmed"),e(),t(8,"button",6),n(9,"Pending"),e(),t(10,"button",7),n(11,"Cancelled"),e()()(),t(12,"div",8)(13,"div",9)(14,"div",10),n(15),e(),t(16,"small"),n(17,"Total"),e()(),t(18,"div",11)(19,"div",10),n(20,"8"),e(),t(21,"small"),n(22,"Enquery"),e()(),t(23,"div",12)(24,"div",10),n(25,"4"),e(),t(26,"small"),n(27,"Pending"),e()()(),f(28,T,36,13,"div",13),e()),o&2&&(i(15),r(s.bookings.length),i(13),m("ngForOf",s.bookings))},dependencies:[P,M,O,y,h],styles:[".table-responsive[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 16px #3c3c3c14;background:#fff;padding:8px;width:100%;min-width:280px}.sticky-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;z-index:2}.custom-table[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.custom-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none;background:#f8fafc;font-weight:600}.custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s}.custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f5f9}.custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}.summary-card[_ngcontent-%COMP%]{width:32%;padding:10px;border-radius:10px}.booking-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 0 8px #0000000d;padding:10px;margin-bottom:12px}.icon-box[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center}.booking-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;border:1px solid #eee;border-radius:12px;padding:16px;margin-bottom:16px;background-color:#fff;box-shadow:0 0 8px #00000005}.booking-left[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{background-color:#e0f7ec;color:#0a7d45;padding:16px;border-radius:12px;font-size:32px;display:flex;align-items:center;justify-content:center}.booking-middle[_ngcontent-%COMP%]{flex:1}.title[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.pax[_ngcontent-%COMP%]{margin-left:70px}.location[_ngcontent-%COMP%]{color:#888;margin-bottom:12px}.dates[_ngcontent-%COMP%]{display:flex;gap:32px;margin-bottom:12px}.date-section[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:15px}.duration[_ngcontent-%COMP%]{display:flex;align-items:center;color:gray;font-size:14px;gap:15px}.booking-right[_ngcontent-%COMP%]{text-align:right}.status[_ngcontent-%COMP%]{padding:4px 10px;border-radius:16px;font-size:12px;display:inline-block;margin-bottom:8px}.status.confirmed[_ngcontent-%COMP%]{background-color:#d1f5d3;color:#0a7d45}.status.pending[_ngcontent-%COMP%]{background-color:#fff3cd;color:#c77800}.status.cancelled[_ngcontent-%COMP%]{background-color:#f8d7da;color:#a94442}.price[_ngcontent-%COMP%]{font-weight:700;color:#5f3dc4;font-size:18px}"]})};export{w as BookingTableComponent};
